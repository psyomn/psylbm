PSYLIGHTBOOKMARK PROTOCOL
  
  Well, this project is not supposed to be taken too seriously, so I'm not
  really investing on security for the time being. Passwords will be salted and
  hashed and an authentication system similar to http (token based auth.) will
  be provided. Treat the software as insecure.

  The protocol is plaintext. Fields are delimited by the pipe '|' symbol.

REGISTRATION

  (Any symbol but pipe)
  <symbols>  ::= [!@#$%^&*()_+-={}[]\":;'/?,.<>]

  (So usernames are any chars, but pipes, and range from 1 to 50 chars)
  <username> ::= ([:alphanum:]|<symbols>){1,50}

  Registration request:
    <reg>|<username>|<password>
  Registration response (success):
    <regok>
  Registration response (failure):
    <username-taken>
  Registration response (failure):
    <bad-username>

AUTHENTICATION

  (A token is a sha256 hashed value)
  Login request:
    <auth>|<username>|<password> 
  Success response:
    <auth>|<token>
  Failure:
    <auth>|<fail>

INSERT

  <bookmark> ::= <book-title>|<volume>|<chapter>|<page>
  
  Insert request:
    <ins>|<bookmark>|<token>
  Insert response (success):
    <ins>|<ok>
  Insert response (failure):
    <ins>|<fail>

DELETE

  Delete request:
    <del>|<bookmark-id>|<token>
  Delete response (success):
    <del>|<ok>
  Delete response (fail):
    <del>|<fail>

PURGE

  Used for deleting all bookmarks of a specific user.

  Purge request:
    <purge>|<token>
  Purge response (success):
    <purge>|<ok>
  Purge response (failure):
    <purge>|<fail>

SYNCHRONIZATION

  Sync request:
    <sync>|<token>
  Sync response: 
    [<bookmark-id>|<bookmark>]*

MISUSE

  (Mainly for malformed requests)
  Response:
    <badrequest>

